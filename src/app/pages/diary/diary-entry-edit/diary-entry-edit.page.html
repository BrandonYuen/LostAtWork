<ion-header>
  <ion-toolbar color="primary">
    <ion-title> Gebeurtenis aanpassen </ion-title>
    <ion-buttons slot="start">
      <ion-button (click)="back()">
        <ion-icon name="close-circle"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
    <ion-card color="light">
      <ion-card-content>
        <form *ngIf="(diaryEntry$ | async) as diaryEntry"[formGroup]="entryForm" (ngSubmit)="onSubmit()">
        
          <ion-item color="light">
            <!-- <ion-icon slot="start" name="log-out"></ion-icon> -->
            <ion-label position="floating"><strong>Titel</strong></ion-label>
            <ion-input type="text" formControlName="title" placeholder="Schrijf een titel..."></ion-input>
          </ion-item>
          <div *ngIf="f['title'].invalid && (f['title'].dirty || f['title'].touched)" class="invalid-feedback">
              <div *ngIf="f['title'].errors.required">Title is required</div>
              <div *ngIf="f['title'].errors.minlength">Title must be at least 3 characters</div>
          </div>

          <ion-item color="light" margin-top>
            <ion-label position="floating"><strong>Type ongewenst gedrag</strong></ion-label>
            <ion-select okText="Select" cancelText="Cancel" formControlName="misconductType" placeholder="Select misconduct type">
              <ion-select-option value="Aggression">Aggressie</ion-select-option>
              <ion-select-option value="Bullying">Pesten</ion-select-option>
              <ion-select-option value="Drug or Alcohol abuse">Drugs of Alcohol misbruik</ion-select-option>
              <ion-select-option value="Discrimination">Discriminatie</ion-select-option>
              <ion-select-option value="Intimidation">Intimidatie</ion-select-option>
              <ion-select-option value="Sexual Intimidation">Sexuele Intimidatie</ion-select-option>
              <ion-select-option value="Theft and Fraud">Diefstal of Fraude</ion-select-option>\
            </ion-select>
          </ion-item>
          <div *ngIf="f['misconductType'].invalid && (f['misconductType'].dirty || f['misconductType'].touched)" class="invalid-feedback">
              <div *ngIf="f['misconductType'].errors.required">Misconduct type is required</div>
          </div>

          <ion-item color="light" margin-top class="form-group">
            <ion-label position="floating"><strong>Beschrijving</strong></ion-label>
            <ion-textarea rows="10" placeholder="Beschrijf wat er is gebeurd..." formControlName="content"></ion-textarea>
          </ion-item>
          <div *ngIf="f['content'].invalid && (f['content'].dirty || f['content'].touched)" class="invalid-feedback">
              <div *ngIf="f['content'].errors.required">Description is required</div>
              <div *ngIf="f['content'].errors.minlength">Description must be at least 20 characters</div>
          </div>
        
          <ion-button margin-top color="secondary" expand="full" type="submit" [disabled]="!entryForm.valid">Aanpassen</ion-button>
        
        </form>
      </ion-card-content>
    </ion-card>
</ion-content>
